"use strict";$(".search-table").on("keyup",(function(){var input,filter,table,tr,td,i,txtValue;for(filter=(input=$(this).val()).toUpperCase(),table=$(this).closest(".table-auto"),tr=$(this).closest(".table-auto").find("tbody tr"),i=0;i<tr.length;i++)(td=tr[i].querySelector(".search"))&&((txtValue=td.textContent||td.innerText).toUpperCase().indexOf(filter)>-1?tr[i].style.display="":tr[i].style.display="none")})),$(".countries-tb").html('\n    <ul class="addon-form-loading pt-160">\n        <div id="addon-res-loader">\n            <svg class="" id="loading-spinner" width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle id="loading-circle-large" cx="40" cy="40" r="36" stroke="#FCCA19" stroke-width="8"></circle>\n            </svg>\n        </div>\n    </ul>\n'),$.ajax({url:SITE_URL+"/countries",type:"GET",dataType:"JSON",success:function(data){var content="";for(const key in data)content+=`\n                <tr>\n                    <td class="search py-2 px-3 d-flex justify-content-between">\n                        <div>\n                            <span class="text-dark font-weight-bold">${data[key].name} <small class="text-uppercase">(${data[key].code})</small></span>\n                        </div>\n                        <div class="action-button">\n                            <form method="post" action="country/delete/${data[key].id}" id="delete-country-${data[key].id}" accept-charset="UTF-8" class="display_inline">\n                                    <input type="hidden" name="_token" value="${token}">\n                                    <span title="${jsLang("Delete")}"\n                                        data-id="${data[key].id}"\n                                        data-label="Delete" data-delete="country"\n                                        data-bs-toggle="modal"\n                                        data-bs-target="#confirmDelete"\n                                        data-title="${jsLang("Delete Country")}"\n                                        data-message="${jsLang("Are you sure to delete this?")}">\n                                        <i class="fa fa-trash delete"></i>\n                                    </span>\n                                </form>\n                                <span title="${jsLang("Edit")}"\n                                    class="edit-country"\n                                    data-id="${data[key].id}"\n                                    data-name="${data[key].name?data[key].name:""}"\n                                    data-fullName="${data[key].full_name?data[key].full_name:""}"\n                                    data-capital="${data[key].capital?data[key].capital:""}"\n                                    data-code="${data[key].code?data[key].code:""}"\n                                    data-codeAlpha3="${data[key].code_alpha3?data[key].code_alpha3:""}"\n                                    data-codeNumeric="${data[key].code_numeric?data[key].code_numeric:""}"\n                                    data-emoji="${data[key].emoji?data[key].emoji:""}"\n                                    data-currencyCode="${data[key].currency_code?data[key].currency_code:""}"\n                                    data-currencyName="${data[key].currency_name?data[key].currency_name:""}"\n                                    data-currencySymbol="${data[key].currency_symbol?data[key].currency_symbol:""}"\n                                    data-tld="${data[key].tld?data[key].tld:""}"\n                                    data-callingCode="${data[key].callingcode?data[key].callingcode:""}"\n                                    data-bs-toggle="modal"\n                                    data-bs-target="#edit-country">\n                                    <i class="fa fa-edit edit"></i>\n                                </span>\n                            <span class="find-state cursor_pointer" data-countryId data-code="${data[key].id}">\n                                <svg viewBox="0 0 20 20" fill="currentColor" class="arrow-circle-right">\n                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z" clip-rule="evenodd"></path>\n                                </svg>\n                            </span>\n                        </div>\n                    </td>\n                </tr>\n            `;$(".countries-tb").html(content)}});var country_code=null;$(document).on("click",".find-state",(function(){$(".add-city").css("display","none"),$(".add-state").css("display","inline"),$(".action-button").hide(),$(this).closest("tbody").find("tr").css("background","unset"),$(this).closest("tr").css("background","#ddd"),country_code=$(this).attr("data-code"),$('#add-state input[name="country_id"]').val(country_code),$(".states-tb").html('\n        <ul class="addon-form-loading pt-160">\n            <div id="addon-res-loader">\n                <svg class="" id="loading-spinner" width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <circle id="loading-circle-large" cx="40" cy="40" r="36" stroke="#FCCA19" stroke-width="8"></circle>\n                </svg>\n            </div>\n        </ul>\n    '),$(".cities-tb").html(`\n        <tr>\n            <td class="search py-2 px-3 d-flex justify-content-between">\n                <div>\n                    <span class="text-dark font-weight-bold">${jsLang("Select a state")}</span>\n                </div>\n            </td>\n        </tr>\n    `),$.ajax({url:SITE_URL+"/countries/"+country_code+"/states",type:"GET",dataType:"JSON",success:function(data){$(".action-button").show(),$(".cities-tb").html(`\n                <tr>\n                    <td class="search py-2 px-3 d-flex justify-content-between">\n                        <div>\n                            <span class="text-dark font-weight-bold">${jsLang("Select a state")}</span>\n                        </div>\n                    </td>\n                </tr>\n            `);var state="";0===data.data.length&&(state+=`\n                    <tr>\n                        <td class="search py-2 px-3 d-flex justify-content-between">\n                            <div>\n                                <span class="font-weight-bold text-warning">${jsLang("The country has no state. Select different one.")}</span>\n                            </div>\n                        </td>\n                    </tr>\n                `);for(const key in data.data)state+=`\n                    <tr>\n                        <td class="search py-2 px-3 d-flex justify-content-between">\n                            <div>\n                                <span class="text-dark font-weight-bold">${data.data[key].name} <small>(${data.data[key].code})</small></span>\n                            </div>\n                            <div class="action-button">\n                                <form method="post" action="state/delete/${data.data[key].id}" id="delete-state-${data.data[key].id}" accept-charset="UTF-8" class="display_inline">\n                                    <input type="hidden" name="_token" value="${token}">\n                                    <span title="${jsLang("Delete")}"\n                                        data-id="${data.data[key].id}"\n                                        data-label="Delete"\n                                        data-delete="state"\n                                        data-bs-toggle="modal"\n                                        data-bs-target="#confirmDelete"\n                                        data-title="${jsLang("Delete State")}"\n                                        data-message="${jsLang("Are you sure to delete this?")}">\n                                        <i class="fa fa-trash delete"></i>\n                                    </span>\n                                </form>\n                                <span title="${jsLang("Edit")}"\n                                    class="edit-state"\n                                    data-id="${data.data[key].id}"\n                                    data-countryId="${data.data[key].country_id}"\n                                    data-name="${data.data[key].name}"\n                                    data-fullName="${data.data[key].full_name}"\n                                    data-code="${data.data[key].code}"\n                                    data-bs-toggle="modal"\n                                    data-bs-target="#edit-state">\n                                    <i class="fa fa-edit edit"></i>\n                                </span>\n                                <span class="find-city cursor_pointer" data-ciso="${country_code}" data-siso="${data.data[key].id}">\n                                    <svg viewBox="0 0 20 20" fill="currentColor" class="arrow-circle-right">\n                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z" clip-rule="evenodd"></path>\n                                    </svg>\n                                </span>\n                            </div>\n                        </td>\n                    </tr>\n                `;$(".states-tb").html(state)}})})),$(document).on("click",".find-city",(function(){$(".add-city").css("display","inline"),$(".action-button").hide(),$(this).closest("tbody").find("tr").css("background","unset"),$(this).closest("tr").css("background","#ddd");var siso=$(this).attr("data-siso"),ciso=$(this).attr("data-ciso");$('#add-city input[name="country_id"]').val(ciso),$('#add-city input[name="division_id"]').val(siso),$(".cities-tb").html('\n        <ul class="addon-form-loading pt-160">\n            <div id="addon-res-loader">\n                <svg class="" id="loading-spinner" width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <circle id="loading-circle-large" cx="40" cy="40" r="36" stroke="#FCCA19" stroke-width="8"></circle>\n                </svg>\n            </div>\n        </ul>\n    '),$.ajax({url:SITE_URL+"/countries/"+ciso+"/states/"+siso+"/cities",type:"GET",dataType:"JSON",success:function(data){$(".action-button").show();var state="";0===data.data.length&&(state+=`\n                    <tr>\n                        <td class="search py-2 px-3 d-flex justify-content-between">\n                            <div>\n                                <span class="font-weight-bold text-warning">${jsLang("The state has no city. Select different one.")}</span>\n                            </div>\n                        </td>\n                    </tr>\n                `);for(const key in data.data)state+=`\n                    <tr>\n                        <td class="search py-2 px-3 d-flex justify-content-between">\n                            <div>\n                                <span class="text-dark font-weight-bold">${data.data[key].name}</span>\n                            </div>\n                            <div class="action-button">\n                                <form method="post" action="city/delete/${data.data[key].id}" id="delete-city-${data.data[key].id}" accept-charset="UTF-8" class="display_inline">\n                                    <input type="hidden" name="_token" value="${token}">\n                                    <span title="${jsLang("Delete")}"\n                                        data-id="${data.data[key].id}"\n                                        data-label="Delete" data-delete="city"\n                                        data-bs-toggle="modal"\n                                        data-bs-target="#confirmDelete"\n                                        data-title="${jsLang("Delete City")}"\n                                        data-message="${jsLang("Are you sure to delete this?")}">\n                                        <i class="fa fa-trash delete"></i>\n                                    </span>\n                                </form>\n                                <span title="${jsLang("Edit")}"\n                                    class="edit-city"\n                                    data-countryId="${data.data[key].country_id}"\n                                    data-divisionId="${data.data[key].division_id}"\n                                    data-name="${data.data[key].name}"\n                                    data-fullName="${data.data[key].full_name}"\n                                    data-code="${data.data[key].code}"\n                                    data-ianaTimezone="${data.data[key].iana_timezone}"\n                                    data-id="${data.data[key].id}"\n                                    data-bs-toggle="modal"\n                                    data-bs-target="#edit-city">\n                                    <i class="fa fa-edit edit"></i>\n                                </span>\n                            </div>\n                        </td>\n                    </tr>\n                `;$(".cities-tb").html(state)}})})),$(document).on("click",".edit-city",(function(){var edit_city={country_id:"null"!=$(this).attr("data-countryId")?$(this).attr("data-countryId"):"",division_id:"null"!=$(this).attr("data-divisionId")?$(this).attr("data-divisionId"):"",name:"null"!=$(this).attr("data-name")?$(this).attr("data-name"):"",full_name:"null"!=$(this).attr("data-fullName")?$(this).attr("data-fullName"):"",code:"null"!=$(this).attr("data-code")?$(this).attr("data-code"):"",iana_timezone:"null"!=$(this).attr("data-ianaTimezone")?$(this).attr("data-ianaTimezone"):""};for(const key in edit_city)$("#edit-city").find("#"+key).val(edit_city[key]),$("#edit-city").find("form").attr("action","city/update/"+$(this).attr("data-id"))})),$(document).on("click",".edit-state",(function(){var edit_state={country_id:"null"!=$(this).attr("data-countryId")?$(this).attr("data-countryId"):"",name:"null"!=$(this).attr("data-name")?$(this).attr("data-name"):"",full_name:"null"!=$(this).attr("data-fullName")?$(this).attr("data-fullName"):"",code:"null"!=$(this).attr("data-code")?$(this).attr("data-code"):""};for(const key in edit_state)$("#edit-state").find("#"+key).val(edit_state[key]),$("#edit-state").find("form").attr("action","state/update/"+$(this).attr("data-id"))})),$(document).on("click",".edit-country",(function(){var edit_country={name:"null"!=$(this).attr("data-name")?$(this).attr("data-name"):"",full_name:"null"!=$(this).attr("data-fullName")?$(this).attr("data-fullName"):"",capital:"null"!=$(this).attr("data-capital")?$(this).attr("data-capital"):"",code:"null"!=$(this).attr("data-code")?$(this).attr("data-code"):"",code_alpha3:"null"!=$(this).attr("data-codeAlpha3")?$(this).attr("data-codeAlpha3"):"",code_numeric:"null"!=$(this).attr("data-codeNumeric")?$(this).attr("data-codeNumeric"):"",emoji:"null"!=$(this).attr("data-emoji")?$(this).attr("data-emoji"):"",currency_code:"null"!=$(this).attr("data-currencyCode")?$(this).attr("data-currencyCode"):"",currency_name:"null"!=$(this).attr("data-currencyName")?$(this).attr("data-currencyName"):"",currency_symbol:"null"!=$(this).attr("data-currencySymbol")?$(this).attr("data-currencySymbol"):"",tld:"null"!=$(this).attr("data-tld")?$(this).attr("data-tld"):"",callingcode:"null"!=$(this).attr("data-callingCode")?$(this).attr("data-callingCode"):""};for(const key in edit_country)$("#edit-country").find("#"+key).val(edit_country[key]),$("#edit-country").find("form").attr("action","country/update/"+$(this).attr("data-id"))}));