'use strict';var obj={coupons:["calculate_coupon"],reviews_enable_product_review:["reviews_verified_owner_label","review_left","rating_enable"],rating_enable:["rating_required"],manage_stock:["out_of_stock_visibility","stock_threshold","notification_out_of_stock","notification_low_stock","hold_stock"],is_active:["is_category_based","amount"]};function checkDependency(){for(const a in obj)if($("#"+a).attr("checked"))for(const b in obj[a])$("#"+obj[a][b]).closest(".dependency").slideDown(400);else for(const b in obj[a])$("#"+obj[a][b]).closest(".dependency").slideUp(400)}checkDependency(),$(".checkActivity").on("change",function(){$(this).attr("checked")?$(this).removeAttr("checked"):$(this).attr("checked",!0),checkDependency()}),$(".conditional").ifs(),$(".warningMessage").css("display","none"),$("#v-pills-general-tab").trigger("click"),$("input").on('change',function(){$(this).closest(".parent").find(".warning-message").addClass("alert-secondary"),$(this).closest(".parent").find(".warningMessage").slideDown(300),$(this).closest(".parent").find("#warning-msg").html(jsLang("Settings have changed, you should save them!"))}),$(".tab-name").on("click",function(){var a=$(this).attr("data-id");$("#theme-title").html(a)}),$(".product_setting_form").on("submit",function(a){a.preventDefault(),$(this).find("button.save-button").attr("type","submit").addClass("cursor_not_allowed").find(".product-spinner").removeClass("d-none");var b=$(this).attr("action"),c=this;$.ajax({url:b,type:"POST",data:$(this).serialize(),success:function(a){"success"==a.status?($(c).closest(".parent").find(".abc").addClass("alert-success"),$(c).closest(".parent").find(".warningMessage").css("display","block"),$(c).closest(".parent").find(".msg").html(a.message)):($(c).closest(".parent").find(".abc").addClass("alert-danger"),$(c).closest(".parent").find(".warningMessage").css("display","block"),$(c).closest(".parent").find(".msg").html(a.message)),$(c).find("button.save-button").attr("type","submit").removeClass("cursor_not_allowed").find(".product-spinner").addClass("d-none")},error:function(){$(c).find("button.save-button").attr("type","submit").removeClass("cursor_not_allowed").find(".product-spinner").addClass("d-none")}}),setTimeout(()=>{$(c).closest(".parent").find(".warningMessage").slideUp(500),setTimeout(()=>{$(c).closest(".parent").find(".abc").removeClass("alert-success"),$(c).closest(".parent").find(".abc").removeClass("alert-danger")},501)},5e3)});var currentUrl=window.location.href,splitUrl=currentUrl.split("#"),fragment=splitUrl[splitUrl.length-1],fragmentValue={vendor:"v-pills-vendor-tab",inventory:"v-pills-inventory-tab",general:"v-pills-general-tab"};for(const a in fragmentValue)if(a==fragment){$("#"+fragmentValue[a]).trigger("click");break}
