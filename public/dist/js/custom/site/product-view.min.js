"use strict";var defaultPrice=$("#item_priceV").text(),selectedIds=[],discountInPercent=0,actualArray=[];possbileVariations=JSON.parse(possbileVariations),defaultSelectV(),"Variable Product"!=itemType&&getCountDownV(formatedSaleTo,offerFlag),$(".placeholder-loader").css("display","none"),$(document).off("click",".open-view-modal").on("click",".open-view-modal",function(){$(".placeholder-loader").css("display","block"),$(".item-view-content").css("display","none"),$("#view-modal").css("display","flex");var a=$(this).attr("data-itemCode");$.ajax({url:SITE_URL+"/product/quick-view/"+a,type:"GET",success:function(a){isGroupProduct=0,$(".placeholder-loader").css("display","none"),$(".item-view-content").css("display","block"),$("#item-view-load").html(a),$("#view-modal").css("display","flex")}})}),$(document).on("click",function(a){0<$(a.target).closest("#view-modal-main").length||0<$(a.target).closest(".open-view-modal").length||(tempIsGroupProduct&&(qty=1),itemType=tempItemType,isGroupProduct=tempIsGroupProduct,$("#view-modal").css("display","none"),$(".placeholder-loader").css("display","block"),$(".item-view-content").css("display","none"))}),$(document).on("click",".open-view-modal-close",function(){qty=1,isGroupProduct=tempIsGroupProduct,itemType=tempItemType,$("#view-modal").css("display","none"),$(".placeholder-loader").css("display","block"),$(".item-view-content").css("display","none")});var mainPriceV=$("#item_priceV").text().replace(/,/g,""),amountV=[];function enableAddToCartV(a){let b=[];$.each($(".option_priceV"),function(a){b[a]="undefined"==typeof $(this).find(":selected").attr("data-optionRealId")?$(this).attr("data-optionRealId"):$(this).find(":selected").attr("data-optionRealId")}),jQuery.inArray(a,b)||($("#item-add-to-cartV").addClass("add-to-cart"),$("#item-add-to-cartV").removeClass("disable_a_href"))}$(".singleCheckBoxV").on("click",function(){let a=$(this).attr("data-optionId"),b=$(this).attr("data-option");$(".multiChkV-"+b).each(function(){$(this).attr("data-optionId")!=a&&$(this).prop("checked",!1)})});var galleryThumbs=new Swiper(".gallery-thumbsV",{observer:!0,observeParents:!0,spaceBetween:17,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1024:{slidesPerView:5,spaceBetween:17}}}),swiper=new Swiper(".swiper-container-mainV",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:galleryThumbs}});$(".zoom").mousemove(function(a){var b,c,d,e,f=a.currentTarget;b=a.offsetX?a.offsetX:a.touches[0].pageX,a.offsetY?c=a.offsetY:b=a.touches[0].pageX,d=100*(b/f.offsetWidth),e=100*(c/f.offsetHeight),f.style.backgroundPosition=d+"% "+e+"%"}),$("#clear-variationV").on("click",function(){removeAllhiddenV(!0),$("#clear-variationV").addClass("display-none"),$("#stock_qtyV").addClass("display-none"),$("#item_priceV").addClass("display-none"),$("#countDownV").addClass("display-none"),$("#varMinMaxPriceV").removeClass("display-none"),variationImageV("","default"),variationId=null,variationAttributeIds=[]}),$(document).on("change",".item-variationsV",function(){0==$(this).val().length?removeAllhiddenV():getPossibleIdV($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")),getVariationIdsV(),attributePriceV(),!0==checkOneSelectedV()?$("#clear-variationV").removeClass("display-none"):$("#clear-variationV").addClass("display-none")});function defaultSelectV(){$.each($(".item-variationsV option"),function(){this.selected&&(0==$(this).val().length?removeAllhiddenV():getPossibleIdV($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")),getVariationIdsV(),attributePriceV(),!0==checkOneSelectedV()?$("#clear-variationV").removeClass("display-none"):$("#clear-variationV").addClass("display-none"))})}function attributePriceV(){let a,b=!0;a=JSON.parse(attributePriceWithId),$.each(a,function(a,c){if(getPossbileAttributeWithPriceV(c.attributeIds)){if(b=!1,selectedIds=[],$("#availabilityV").addClass("display-none"),$("#item_priceV").removeClass("display-none"),$("#item_priceV").text(decimalNumberFormatWithCurrency(c.price)),$("#varMinMaxPriceV").addClass("display-none"),variationId=c.variation_id,variationAttributeIds=c.attributeIds,backOrders=c.backOrders,"sale"==c.priceType?(discountInPercent=c.discountInPercent,offerFlag=!0,getCountDownV(c.saleTo,!0)):(offerFlag=!1,$("#countDownV").addClass("display-none")),variationImageV(c.images),!(1==c.manage_stocks&&0==stockHide&&0<=parseInt(c.stock_quantity)))1==c.manage_stocks&&0==stockHide&&0>=parseInt(c.stock_quantity)&&0==backOrders?($("#stock_qtyV").removeClass("display-none"),("always_show"==stockDisplayFormat||"sometime_show"==stockDisplayFormat)&&$("#stock_qtyV").html("<span class=\"text-reds-3 leading-4 bg-pinks-2 px-4 py-2 text-sm roboto-medium font-medium rounded capitalize\">"+jsLang("Out Of Stock")+"</span>")):$("#stock_qtyV").addClass("display-none");else if($("#stock_qtyV").removeClass("display-none"),"always_show"==stockDisplayFormat){var d=jsLang(":x items remaining");d=d.replace(":x",c.stock_quantity),$("#stock_qtyV").html("<span class='text-green-1 capitalize leading-4 bg-green-2 px-4 py-2 text-sm roboto-medium font-medium rounded mr-2.5'>"+jsLang("In Stock")+"</span> "+d)}else if("sometime_show"==stockDisplayFormat&&parseInt(c.stock_quantity)<=parseInt(c.lowStockThreshold)&&0!=parseInt(c.stock_quantity)){var e=jsLang("Only :x left in stock");e=e.replace(":x",c.stock_quantity),$("#stock_qtyV").text(e)}return!1}}),!0==b&&(variationId=null,variationAttributeIds=[],$("#item_priceV").addClass("display-none"),$("#stock_qtyV").addClass("display-none"),$("#varMinMaxPriceV").removeClass("display-none"),!0==checkAllSelectedV()?$("#availabilityV").removeClass("display-none"):"",variationImageV(null,"default"))}function checkAllSelectedV(){let a=!0;return $(".item-variationsV").each(function(){0==$(this).val().length?a=!1:!1==a?"":a=!0}),a}function checkOneSelectedV(){let a=!1;return $(".item-variationsV").each(function(){0!=$(this).val().length&&(a=!0)}),a}function getPossibleIdV(a){let b=possbileVariations[a];"undefined"!=typeof actualArray&&0==actualArray.length&&(actualArray=b),$(".item-variationsV option").each(function(){$(this).is(":selected")||0==$(this).val().length||(-1==jQuery.inArray($(this).attr("data-id"),actualArray)?1==$(this).attr("data-position")?!1==checkPositionV($(this).attr("data-position"))?$(this).addClass("display-none"):"":$(this).addClass("display-none"):$(this).removeClass("display-none"))})}function checkPositionV(a){let b=!0;return 1==a&&$(".item-variationsV option").each(function(){$(this).is(":selected")&&$(this).attr("data-position")==a?!1==b?"":b=!0:$(this).is(":selected")&&0!=$(this).val().length&&(b=!1)}),b}function removeAllhiddenV(a=!1){let b=!0;$(".item-variationsV").each(function(){0==$(this).val().length?!1==b?"":b=!0:b=a}),!0==b&&(actualArray=[],$(".item-variationsV option").each(function(){$(this).removeClass("display-none")}),!0==a&&$(".item-variationsV").each(function(){$(this).val("")}))}function variationImageV(a,b="variation"){let c=``,d=``,e=0,f=``,g=``,h=``;if(1==parseInt(featured)&&(f=`<p class="primary-bg-color h-5 w-max mb-2.5 justify-center text-white px-2 flex items-center text-center rounded-sm leading-3 roboto-medium font-medium text-11">${jsLang("Featured")}</p>`),5==parseInt(reviewAvg)&&(g=`<div class="flex justify-center items-center px-1.5 whitespace-nowrap mb-2.5 bg-green-5 h-5 leading-3 roboto-medium font-medium text-white text-11 w-max rounded-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                <path d="M5 0L6.12257 3.45492H9.75528L6.81636 5.59017L7.93893 9.04508L5 6.90983L2.06107 9.04508L3.18364 5.59017L0.244718 3.45492H3.87743L5 0Z" fill="white"/>
                            </svg>
                            <p>${jsLang("Top Rated")}</p>
                        </div>`),!0==offerFlag&&(h=`<p class="primary-bg-color h-5 text-gray-12 px-2 mb-2.5 justify-center flex items-center rounded-sm leading-3 roboto-medium w-max font-medium text-11 whitespace-nowrap uppercase">${discountInPercent}% ${jsLang("off")}</p>`),"variation"==b)e++,c+=`
                     <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">
                        <img class="p-1.5 object-contain h-12 cursor-pointer" src="${a}" alt="">
                    </div>
                `,d+=`
                    <div class="absolute z-10 left-3.5 top-3.5">
                        ${f}
                        ${g}
                        ${h}
                    </div>
                     <div class="swiper-slide minimum-height w-full zoom" style="background-image: url(${a})">
                            <img class="swiper-slide-img" src="${a}" alt="...">
                      </div>
                `,$("#zoomImageV").html(d),$("#sliderImageV").html(c);else if("default"==b){let a="";h=``,a=JSON.parse(defaultImages),$.each(a,function(b,i){e++,1<a.length&&(c+=`
                        <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">
                            <img class="p-1.5 object-contain h-12 cursor-pointer" src="${i}" alt="">
                        </div>
                `),d+=`
                        <div class="absolute z-10 left-3.5 top-3.5">
                            ${f}
                            ${g}
                            ${h}
                        </div>
                        <div class="swiper-slide minimum-height w-full zoom" style="background-image: url(${i})">
                            <img class="swiper-slide-img" src="${i}" alt="...">
                        </div>
                `}),$("#zoomImageV").html(d),$("#sliderImageV").html(c)}slideImagecount=e;var i=new Swiper(".gallery-thumbsV",{spaceBetween:17,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1024:{slidesPerView:5,spaceBetween:17}}}),j=new Swiper(".swiper-container-mainV",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:i}});$(".zoom").mousemove(function(a){var b,c,d,e,f=a.currentTarget;b=a.offsetX?a.offsetX:a.touches[0].pageX,a.offsetY?c=a.offsetY:b=a.touches[0].pageX,d=100*(b/f.offsetWidth),e=100*(c/f.offsetHeight),f.style.backgroundPosition=d+"% "+e+"%"})}function getVariationIdsV(){let a=0;$(".item-variationsV option").each(function(){$(this).is(":selected")&&0!=$(this).val().length&&(selectedIds[a++]=$(this).attr("data-id"))})}function getPossbileAttributeWithPriceV(a){let b=!0;if($.each(a,function(a,c){-1==jQuery.inArray(c,selectedIds)?(b=!1,updateProductPriceV(defaultPrice,null)):!1!=b&&(b=!0)}),b)return b}function updateProductPriceV(a,b="variation"){"variation"==b?$("#item_priceV").text(decimalNumberFormatWithCurrency(a)):$("#item_priceV").text(a)}function getCountDownV(a,b){if(clearInterval(offerTimer),!0==b){let b=!1;var c=new Date(a).getTime();offerTimer=setInterval(function(){var a=new Date().getTime(),d=c-a,e=Math.floor(d/86400000),f=Math.floor(d%86400000/3600000),g=Math.floor(d%3600000/60000),h=Math.floor(d%60000/1e3);0<=e&&0<$("#count_daysV").length&&0<$("#count_othersV").length&&(b=!0,document.getElementById("count_daysV").innerHTML=e+jsLang("Days"),document.getElementById("count_othersV").innerHTML=f+" "+jsLang("hrs")+" : "+g+" "+jsLang("mins")+" : "+ +h+" "+jsLang("sec"))},1e3),setTimeout(function(){b?$("#countDownV").removeClass("display-none"):$("#countDownV").addClass("display-none")},1e3)}}
