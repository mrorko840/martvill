"use strict";if($(".main-body .page-wrapper").find("#item-details-container").length){function a(a){var b=token,c=reviewUrl+"?page="+a,d=itemId;return $.ajax({url:c,method:"POST",data:{_token:b,page:a,product_id:d},success:function(a){$("#load_review").html(a),$("span span.text-gray-500").css("background","#eee")}}),1}function b(){for(var a,b=document.getElementById("image"),c=0;c<b.files.length;c++){if(a=b.files[c],!allowExtension.includes(a.name.split(".").pop()))return!1;if(2048e3<a.size)return 2}return!0}function c(){let a,b=!0;a=JSON.parse(attributePriceWithId),$.each(a,function(a,c){if(m(c.attributeIds)){b=!1,selectedIds=[],$("#availability").addClass("display-none"),$("#item_price").removeClass("display-none"),$("#item_price").text(decimalNumberFormatWithCurrency(c.price)),$("#varMinMaxPrice").addClass("display-none"),variationId=c.variation_id,variationAttributeIds=c.attributeIds,backOrders=c.backOrders,"sale"==c.priceType?(discountInPercent=c.discountInPercent,offerFlag=!0):offerFlag=!1,outOfStockVisible=c.isOutOfStock.outOfStockVisibility,i(c.images);let a="",f="";if(""!=c.weight&&(a=`<tr id="weightRow">
                    <td class="py-4 px-6 border">${jsLang("Weight")}</td>
                    <td class="py-4 px-6 border">${c.weight} ${messurementWeight}</td>
                      </tr>`,$("#weightRow").replaceWith(a)),(""!=c.dimensions.length||""!=c.dimensions.width||""!=c.dimensions.height)&&(f=`
                    <tr id="dimensionsRow">
                        <td class="py-4 px-6 border">${jsLang("Dimensions")}</td>
                        <td class="py-4 px-6 border">${""==c.dimensions.length?null:c.dimensions.length} ${""==c.dimensions.width?"":"\xD7 "+c.dimensions.width}
                          ${""==c.dimensions.height?"":"\xD7 "+c.dimensions.height} ${messurementDimension}</td>
                    </tr>
                    `,$("#dimensionsRow").replaceWith(f)),!(1==c.manage_stocks&&0==stockHide&&0<=parseInt(c.stock_quantity)))1==c.manage_stocks&&0==stockHide&&0>=parseInt(c.stock_quantity)&&0==backOrders?($("#stock_qty").removeClass("display-none"),("always_show"==stockDisplayFormat||"sometime_show"==stockDisplayFormat)&&$("#stock_qty").html("<span class=\"text-reds-3 leading-4 bg-pinks-2 px-4 py-2 text-sm roboto-medium font-medium rounded capitalize\">"+jsLang("Out Of Stock")+"</span>")):$("#stock_qty").addClass("display-none");else if($("#stock_qty").removeClass("display-none"),"always_show"==stockDisplayFormat){var d=jsLang(":x items remaining");d=d.replace(":x",c.stock_quantity),$("#stock_qty").html("<span class='text-green-1 capitalize leading-4 bg-green-2 px-4 py-2 text-sm roboto-medium font-medium rounded mr-2.5'>"+jsLang("In Stock")+"</span>"+d)}else if("sometime_show"==stockDisplayFormat&&parseInt(c.stock_quantity)<=parseInt(c.lowStockThreshold)&&0!=parseInt(c.stock_quantity)){var e=jsLang("Only :x left in stock");e=e.replace(":x",c.stock_quantity),$("#stock_qty").text(e)}return"sale"==c.priceType?($("#item_offer_price").text(decimalNumberFormatWithCurrency(c.regular)),$("#item_offer_price").removeClass("display-none"),o(c.saleTo,!0)):($("#item_offer_price").addClass("display-none"),$("#countDown").addClass("display-none")),!1}}),!0==b&&(variationId=null,variationAttributeIds=[],outOfStockVisible=0,$("#item_offer_price").addClass("display-none"),$("#item_price").addClass("display-none"),$("#stock_qty").addClass("display-none"),$("#varMinMaxPrice").removeClass("display-none"),!0==d()?$("#availability").removeClass("display-none"):"",i(null,"default"))}function d(){let a=!0;return $(".item-variations").each(function(){0==$(this).val().length?a=!1:!1==a?"":a=!0}),a}function e(){let a=!1;return $(".item-variations").each(function(){0!=$(this).val().length&&(a=!0)}),a}function f(a){let b=possbileVariations[a];"undefined"!=typeof actualArray&&0==actualArray.length&&(actualArray=b),$(".item-variations option").each(function(){$(this).is(":selected")||0==$(this).val().length||(-1==jQuery.inArray($(this).attr("data-id"),actualArray)?1==$(this).attr("data-position")?!1==g($(this).attr("data-position"))?$(this).addClass("display-none"):"":$(this).addClass("display-none"):$(this).removeClass("display-none"))})}function g(a){let b=!0;return 1==a&&$(".item-variations option").each(function(){$(this).is(":selected")&&$(this).attr("data-position")==a?!1==b?"":b=!0:$(this).is(":selected")&&0!=$(this).val().length&&(b=!1)}),b}function h(a=!1){let b=!0;$(".item-variations").each(function(){0==$(this).val().length?!1==b?"":b=!0:b=a}),!0==b&&(actualArray=[],$(".item-variations option").each(function(){$(this).removeClass("display-none")}),!0==a&&$(".item-variations").each(function(){$(this).val("")}))}function i(a,b="variation"){let c=``,d=``,e=0,f=``,g=``,h=``,i=``;if(1==parseInt(outOfStockVisible)&&(i=`<p class="bg-pinks-2 relative z-10 h-4 text-reds-3 mb-2.5 px-1.5 w-max flex items-center rounded-sm leading-3 roboto-medium font-medium pt-2p text-11 whitespace-nowrap">
                            ${jsLang("Stock Out")}
                         </p>`),1==parseInt(featured)&&0==parseInt(outOfStockVisible)&&(f=`<p class="primary-bg-color h-5 w-max mb-2.5 justify-center text-white px-2 flex items-center text-center rounded-sm leading-3 roboto-medium font-medium text-11">${jsLang("Featured")}</p>`),5==parseInt(reviewAvg)&&0==parseInt(outOfStockVisible)&&(g=`<div class="flex justify-center items-center px-1.5 whitespace-nowrap my-2.5 bg-green-5 h-5 leading-3 roboto-medium font-medium text-white text-11 rounded-sm w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                    <path d="M5 0L6.12257 3.45492H9.75528L6.81636 5.59017L7.93893 9.04508L5 6.90983L2.06107 9.04508L3.18364 5.59017L0.244718 3.45492H3.87743L5 0Z" fill="white"/>
                                </svg>
                                <p>${jsLang("Top Rated")}</p>
                            </div>`),!0==offerFlag&&0==parseInt(outOfStockVisible)&&(h=`<p class="primary-bg-color h-5 text-gray-12 px-2 justify-center flex items-center rounded-sm leading-3 roboto-medium font-medium text-11 whitespace-nowrap w-max uppercase">${discountInPercent}% ${jsLang("off")}</p>`),"variation"==b)e++,c+=`
                     <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">
                        <img class="p-1.5 object-contain h-12 cursor-pointer" src="${a}" alt="">
                    </div>
                `,d+=`
                      <div class="relative">
                        <div class="absolute z-10 left-3.5 top-3.5">
                           ${i}
                           ${f}
                           ${g}
                           ${h}
                        </div>
                    </div>
                     <div class="swiper-slide minimum-height w-full zoom" style="background-image: url(${a})">
                        <img class="swiper-slide-img" src="${a}" alt="...">
                      </div>
                `,$("#zoomImage").html(d),$("#sliderImage").html(c);else if("default"==b){let a="";h=``,a=JSON.parse(defaultImages),$.each(a,function(b,i){e++,1<a.length&&(c+=`
                     <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">
                        <img class="p-1.5 object-contain h-12 cursor-pointer" src="${i}" alt="">
                    </div>
                `),d+=`
                     <div class="relative">
                        <div class="absolute z-10 left-3.5 top-3.5">
                           ${f}
                           ${g}
                           ${h}
                        </div>
                    </div>
                     <div class="swiper-slide minimum-height w-full zoom" style="background-image: url(${i})">
                        <img class="swiper-slide-img" src="${i}" alt="...">
                      </div>
                `}),$("#zoomImage").html(d),$("#sliderImage").html(c)}slideCounts=e,setTimeout(()=>{$(".product-thumbs").css("opacity","1")},5);var j=new Swiper(".gallery-thumbs",{spaceBetween:20,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1152:{slidesPerView:5,spaceBetween:20}}}),k=new Swiper(".swiper-container-main",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:j}});$(".zoom").mousemove(function(a){var b,c,d,e,f=a.currentTarget;b=a.offsetX?a.offsetX:a.touches[0].pageX,a.offsetY?c=a.offsetY:b=a.touches[0].pageX,d=100*(b/f.offsetWidth),e=100*(c/f.offsetHeight),f.style.backgroundPosition=d+"% "+e+"%"})}function l(){let a=0;$(".item-variations option").each(function(){$(this).is(":selected")&&0!=$(this).val().length&&(selectedIds[a++]=$(this).attr("data-id"))})}function m(a){let b=!0;if($.each(a,function(a,c){-1==jQuery.inArray(c,selectedIds)?(b=!1,n(defaultPrice,null)):!1!=b&&(b=!0)}),b)return b}function n(a,b="variation"){"variation"==b?$("#item_price").text(decimalNumberFormatWithCurrency(a)):$("#item_price").text(a)}function o(a,b){if(clearInterval(offerTimerDetailsPage),!0==b){let b=!1;var c=new Date(a).getTime();offerTimerDetailsPage=setInterval(function(){var a=new Date().getTime(),d=c-a,e=Math.floor(d/86400000),f=Math.floor(d%86400000/3600000),g=Math.floor(d%3600000/60000),h=Math.floor(d%60000/1e3);0<=e&&0<$("#count_days").length&&0<$("#count_others").length&&(b=!0,document.getElementById("count_days").innerHTML=e+jsLang("Days"),document.getElementById("count_others").innerHTML=f+" "+jsLang("hrs")+" : "+g+" "+jsLang("mins")+" : "+ +h+" "+jsLang("sec"))},1e3),setTimeout(function(){b?$("#countDown").removeClass("display-none"):$("#countDown").addClass("display-none")},1e3)}}var ratingValue=0,amount=[],rateClickEnable=!1,defaultPrice=$("#item_price").text(),selectedIds=[],outOfStockVisible=0;possbileVariations=JSON.parse(possbileVariations),defaultAttributes=JSON.parse(defaultAttributes),"Variable Product"!=itemType&&o(formatedSaleTo,offerFlag);var actualArray=[];(function(){$.each($(".item-variations option"),function(){this.selected&&(0==$(this).val().length?h():f($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")),l(),c(),!0==e()?$("#clear-variation").removeClass("display-none"):$("#clear-variation").addClass("display-none"))})})();var discountInPercent=0;$(document).ready(function(){$("#stars li").on("mouseover",function(){var a=parseInt($(this).data("value"),10);$(this).parent().children("li.star").each(function(b){b<a?$(this).addClass("hover"):$(this).removeClass("hover")})}).on("mouseout",function(){$(this).parent().children("li.star").each(function(){$(this).removeClass("hover")})}),$(document).on("click","#stars li",function(){var a=parseInt($(this).data("value"),10),b=$(this).parent().children("li.star");for(let a=0;a<b.length;a++)$(b[a]).removeClass("selected");for(let c=0;c<a;c++)$(b[c]).addClass("selected");ratingValue=$(this).attr("data-value"),rateClickEnable=!0})}),$(document).on("click",".image-thumbnail",function(){var a=$(this).data("src");$(".preview-image img").attr("src",a),$(".preview-body").show();var b=$(".preview-body");$(".preview-body").remove(),$("body").append(b),$(".preview-body").animate({opacity:"1"},"slow")}),$(document).on("click",".preview-image span",function(){$(".preview-body").animate({opacity:"0"},"slow"),setTimeout(()=>{$(".preview-body").hide()},1e3)});var gImgObj=[],j=0,k=0,deletedFiles=[];$(document).on("change","#image",function(a){var c=this;if(!b())return $("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang("Please upload valid images")+"</span>"),$("#image").val(""),$(".error").remove(),0;if(2==b())return $("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang("Maximum file size 2MB")+"</span>"),$("#image").val(""),$(".error").remove(),0;$("#message").hide(200);$(".error").remove();for(var d,e=a.target.files,g=e.length,h=0;h<g;h++){d=e[h],gImgObj[k++]=d.name;var l=new FileReader;l.onload=function(a){$(c).closest("form").find("#imgs").append(`
                    <div class="pip error">
                        <div class="relative inline-block">
                            <img class="imageThumb object-cover h-24 w-24 border-2" src="${a.target.result}"/>
                            <span data-id="${j++}" class="removes absolute rounded-full bg-red-200 px-2 cursor-pointer -top-3 -right-3 text-bold text-red-700">x</span>
                        </div>
                    </div>
                `)},l.readAsDataURL(d)}}),$(document).on("click",".removes",function(){Swal.fire({title:jsLang("Are you sure?"),text:jsLang("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:jsLang("Yes, delete it!")}).then(a=>{if(a.isConfirmed){var b=$(this).data("id");$(this).closest(".pip").remove(),"undefined"!=typeof b&&(deletedFiles.push(gImgObj[b]),$("#deleted-files").val(deletedFiles))}})}),$("#view-more").css("background","linear-gradient(0deg, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 65%, rgba(255,255,255,0) 100%)"),$(document).on("click","#view-more span",function(){$(".item-full-details").find(".add").length?($("#item-details-section")[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),$(".item-full-details").addClass("h-full"),$(".item-full-details").removeClass("h-96"),$("#view-more").addClass("remove"),$("#view-more svg").addClass("rotated-view"),$("#view-more").removeClass("add"),$("#hidden_description").removeClass("display-none"),$("#view-more span").text(jsLang("See Less")),$("#hidden_summary").addClass("display-none")):($("#item-details-section")[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),$(".item-full-details").removeClass("h-full"),$(".item-full-details").addClass("h-96"),$("#view-more").removeClass("remove"),$("#view-more svg").removeClass("rotated-view"),$("#view-more").addClass("add"),$("#hidden_description").addClass("display-none"),$("#view-more span").text(jsLang("See More")),$("#hidden_summary").removeClass("display-none"),setTimeout(()=>{$(document).scrollTop($(document).scrollTop()-100)},1e3))}),$(".rating-width").each((a,b)=>{$(b).css("width",$(b).data("width")+"%")}),$("span span.text-gray-500").css("background","#eee"),$("#reviewFrom").on("submit",function(b){b.preventDefault();let c=ratingValue;if(0==c&&1==rattingRequired)$("#message").show(500).html("<span class=\"font-bold text-red-600\">"+jsLang("Rating field is required")+"</span>");else if(15<$("#imgs").find(".pip").length)return $("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang("You can only upload a maximum of 15 files.")+"</span>"),0;else{$(".save-review").addClass("flex").html(`
                ${jsLang("Submitting")}
                <svg class="animate-spin text-gray-700 w-4 h-4 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="#ddd" stroke-width="3"></circle>
                    <path class="opacity-75" fill="#fff" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            `);let b=$("#comments").val();var d=new FormData(this);d.append("rating",c),d.append("comments",b),d.append("product_id",itemId),$.ajax({url:SITE_URL+"/user/review-store",type:"POST",dataType:"JSON",data:d,contentType:!1,cache:!1,processData:!1,success:function(b){1==b.status?(setTimeout(()=>{$(".review-store-section").hide(500),a(1)},3e3),$("#imgs").html(""),$("#message").show(200),$("#message").html("<span class=\"font-bold text-green-600\">"+jsLang(b.message)+"</span>"),$("#comments").val(null),$(".star").removeClass("selected"),deletedFiles=[],gImgObj=[],j=0,k=0):($("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang(b.message)+"</span>"))},error:function(a,b,c){401==a.status?($("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang("To give a review, you need to login first.")+"</span>")):($("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang(c)+"</span>"))},complete:function(){$(".save-review").removeClass("flex").html(`
                        ${jsLang("Submit Reveiw")}
                    `)}})}setTimeout(()=>{$("#message").hide(500)},5e3)});var ratingUpdate=null;$(document).on("click","#stars li",function(){ratingUpdate=!0}),$(document).on("submit","#reviewUpdateFrom",function(b){b.preventDefault();var c=this;if(15<$("#imgs").find(".pip").length)return $("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang("You can only upload a maximum of 15 files.")+"</span>"),0;var d=new FormData(this);$(".review-submit-modal-btn").html(`
                ${jsLang("Submitting")}
                <svg class="animate-spin text-gray-700 w-4 h-4 ml-1 mt-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="#000" stroke-width="3"></circle>
                    <path class="opacity-75" fill="#fff" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            `),ratingUpdate&&d.append("rating",ratingValue),$.ajax({url:SITE_URL+"/site/review/update",type:"POST",dataType:"JSON",data:d,contentType:!1,cache:!1,processData:!1,success:function(b){if(1==b.status){deletedFiles=[],gImgObj=[],j=0,k=0;var d=+$("span.relative.inline-flex.items-center.px-4.py-2.-ml-px").text();a(1e3)&&a(d),$("#imgs").hide(),$("#message").show(200),$("#message").html("<span class=\"font-bold text-green-600\">"+jsLang(b.message)+"</span>"),setTimeout(()=>{a($("span.relative.inline-flex.items-center.px-4.py-2.-ml-px").text()),$("#message").hide(),$("#imgs").show(),$(c).find(".review-close-modal-btn").trigger("click")},2500)}else $("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang(b.message)+"</span>")},error:function(a,b,c){401==a.status?($("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang("To give a review, you need to login first.")+"</span>")):($("#message").show(200),$("#message").html("<span class=\"font-bold text-red-600\">"+jsLang(c)+"</span>"))},complete:function(){$(".review-submit-modal-btn").html(`
                        ${jsLang("Submit")}
                    `)}})}),$(document).on("click",".remove-review-image",function(){var a=$(this).data("path"),b=$(this),c=$(this).data("key");Swal.fire({title:jsLang("Are you sure?"),text:jsLang("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#2c2c2c",cancelButtonColor:"#d33",confirmButtonText:jsLang("Yes, delete it!")}).then(d=>{d.isConfirmed&&$.ajax({url:SITE_URL+"/site/review/destroy",data:{path:a,_token:token},type:"POST",dataType:"JSON",success:function(){b.closest(".pip").remove(),$("body #review-image-"+c).closest("div").hide()}})})}),$(document).on("click",".filter",function(){$(".filter-value").text($(this).text());let a=$(this).data("star"),b=$(this).data("item");$(".filter-value").data("filter-star",a),$(".filter").children().removeClass("primary-text-color"),$(".filter span.text-md").addClass("ml-3"),$(".filter span.text-md").text(""),$(this).prepend(`<span class="primary-text-color -mr-3 text-md">âœ“</span>`),$(this).children().addClass("primary-text-color"),blockElement($("#load_review")),fetchReview(a,b)}),$("#rating").click(function(){$("#load_review")[0].scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),$("#clear-variation").click(function(){h(!0),$("#clear-variation").addClass("display-none"),$("#stock_qty").addClass("display-none"),$("#item_offer_price").addClass("display-none"),$("#item_price").addClass("display-none"),$("#countDown").addClass("display-none"),$("#varMinMaxPrice").removeClass("display-none"),i("","default"),variationId=null,variationAttributeIds=[]}),$(document).on("change",".item-variations",function(){0==$(this).val().length?h():f($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")),l(),c(),!0==e()?$("#clear-variation").removeClass("display-none"):$("#clear-variation").addClass("display-none")})}function Tabs(a,b=0){function c(){if(!j){j=!0;for(var a,b=0;b<l.length;b++)a=l[b],d(a,b);n&&g(l[o])}}function d(a,b){a.addEventListener("click",function(a){a.preventDefault(),f(b)})}function f(a){0<=a&&a!=o&&a<=l.length&&(l[o].classList.remove("is-active"),l[a].classList.add("is-active"),m[o].classList.remove("is-active"),m[a].classList.add("is-active"),n&&g(l[a]),o=a)}function g(a){-1!=initialTab&&(n.style.left=a.offsetLeft+"px",n.style.width=a.offsetWidth+"px")}var h=document.querySelector(a.el),j=!1,k=h.querySelector(".c-tabs-nav"),l=h.querySelectorAll(".c-tabs-nav__link"),m=h.querySelectorAll(".c-tab"),n=!!a.marker&&function(){var a=document.createElement("div");return a.classList.add("c-tab-nav-marker"),k.appendChild(a),a}(),o=b;return{init:c,goToTab:f}}initialTab=parseInt(initialTab);var m=new Tabs({el:"#tabs",marker:!0});m.init(),tabCssChange(initialTab);function tabCssChange(a){1==a?($("#product-specification").addClass("is-active"),$("#product-specification-panel").addClass("is-active")):2==a?($("#product-description").removeClass("is-active"),$("#product-description-panel").removeClass("is-active"),$("#product-vendor-info").addClass("is-active"),$("#product-vendor-info-panel").addClass("is-active")):3==a?($("#product-description").removeClass("is-active"),$("#product-description-panel").removeClass("is-active"),$("#product-review").addClass("is-active"),$("#product-review-panel").addClass("is-active")):-1==a&&$("#nav-line").removeClass("c-tabs-nav")}$("#rating").click(function(){let a=new Tabs({el:"#tabs",marker:!0},ratingTab);a.init(),$("#product-description").removeClass("is-active"),$("#product-description-panel").removeClass("is-active"),$("#product-specification").removeClass("is-active"),$("#product-specification-panel").removeClass("is-active"),$("#product-vendor-info").removeClass("is-active"),$("#product-vendor-info-panel").removeClass("is-active"),$("#product-review").addClass("is-active"),$("#product-review-panel").addClass("is-active");let b=0;$.each($(".c-tab-nav-marker"),function(){0==b&&$(this).remove(),b++}),$("html, body").animate({scrollTop:$("#product-review-panel").offset().top},1e3)}),setTimeout(()=>{$(".product-thumbs").css("opacity","1")},5);var galleryThumbs=new Swiper(".gallery-thumbs",{spaceBetween:20,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1152:{slidesPerView:5,spaceBetween:20}}}),swiper=new Swiper(".swiper-container-main",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:galleryThumbs}});$(".zoom").mousemove(function(a){var b,c,d,e,f=a.currentTarget;b=a.offsetX?a.offsetX:a.touches[0].pageX,a.offsetY?c=a.offsetY:b=a.touches[0].pageX,d=100*(b/f.offsetWidth),e=100*(c/f.offsetHeight),f.style.backgroundPosition=d+"% "+e+"%"}),$(document).on("click","a.review",function(){$("a").removeClass("is-acive"),$(this).addClass("is-active"),$("div.c-tab").removeClass("is-active"),$("div.c-tab.review").addClass("is-active"),$(document).scrollTop($("#item-details-section").offset().top-100)}),$("a.review").trigger("click"),$(document).on("click","#review-open-modal-btn",function(){$("body").css("overflow","hidden");var a=$(".edit-modal");$(".edit-modal").remove(),$("body").append(a)}),$(document).on("click",".review-close-modal-btn, .review-submit-modal-btn",function(){$("body").css("overflow","visible")}),$(document).on("click","#review-paginate a",function(a){a.preventDefault(),blockElement($("#load_review")),fetchReview($(".filter-value").data("filter-star"),$(".filter-value").data("item"),$(this).attr("href").split("page=")[1])});function fetchReview(a=0,b=1,c=1){$.ajax({url:SITE_URL+"/site/review/filter?page="+c,data:{rating:a,product_id:b,_token:token},type:"POST",success:function(a){$("#load_review").html(a)},complete:function(){unblockEverything()}})}const unblockEverything=()=>{$(".blockUI").each(function(){$(this).parent().unblock()})},blockElement=(a,b={})=>{let c=Object.assign({},{message:`<div class="flex justify-center">
                        <svg class="animate-spin text-gray-700 w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="#000" stroke-width="3"></circle>
                        <path class="opacity-75" fill="#fff" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                    </div>`,css:{backgroundColor:"transparent",border:"none"}},b);a.block(c)};