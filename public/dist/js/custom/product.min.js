"use strict";if($(".main-body .page-wrapper").find("#item-add-container").length||$(".main-body .page-wrapper").find("#item-edit-container").length){$(document).on("change",".errorChk",function(){if($(this).hasClass("err1")&&""!=$(this).val){$(this).removeClass("err1");let a=$(this).attr("id");$("#"+a).next("span").text("")}}),$(".select2").select2({placeholder:jsLang("Nothing selected"),allowClear:!1}),$("#item_tags").select2({tags:!0}),$(".select2_tags").select2({tags:!0}),function(a){$(a).sortable({distance:2,delay:300,opacity:.8,cursor:"move"})}(".drag_and_drop")}$(".main-body .page-wrapper").find("#item-list-container").length&&$(document).on("click","#csv, #pdf",function(a){a.preventDefault(),window.location=SITE_URL+"/items/"+this.id}),$(".main-body .page-wrapper").find("#vendor-item-list-container").length&&$(document).on("click","#csv, #pdf",function(a){a.preventDefault(),window.location=SITE_URL+"/items/"+this.id});function Schedule(){var a=document.getElementById("myButton");"Cancel"==a.value?(a.value="Schudle",a.innerHTML="Schedule"):(a.value="Cancel",a.innerHTML="Cancel")}$(".myButton").on("click",function(){var a=$(".myButton").val();"Cancel"==a.value?(a.value="Schedule",a.innerHTML="Schedule"):(a.value="Cancel",a.innerHTML="Cancel")});var fold_count=1;$(".fold_p").on("click",function(){setTimeout(()=>{let a=$(this).find(".date-schedular");"true"==$(this).attr("aria-expanded")?($(this).find(".inner_text").text("Cancel"),a&&$(a).val(1)):(a&&$(a).val(0),$(this).find(".inner_text").text("Schedule"))},100)}),$(".select-btn").on("click",function(){var a=$(".status-select").val();$(".show-status").text(a)}),$(".addfiles").on("click",function(){return $("#fileupload").click(),!1}),$(document).on("click",".toggle_collapse",function(){$(this).toggleClass("hideMe")}),$(document).on("click",".toggle_collapse_cancel",function(){$(this).closest(".collapse-parent").find(".toggle_collapse").trigger("click")});var tem_text="";$(".save-button, .cancel-button").hide(),$(window).on("load",function(){$(".save-button").on("click",save_onclick),$(".cancel-button").on("click",cancel_onclick),$(".edit-button").on("click",edit_onclick)});function edit_onclick(){tem_text=$(this).closest(".close-parent").find("input").val(),setFormMode($(this).closest(".close-parent"),"edit"),$(this).closest(".close-parent").find(".edit-input").trigger("focus")}function cancel_onclick(){$(this).closest(".close-parent").find("input").val(tem_text),setFormMode($(this).closest(".close-parent"),"view")}function save_onclick(){setFormMode($(this).closest(".close-parent"),"view")}function setFormMode(a,b){"view"===b?(a.find(".save-button, .cancel-button").hide(),a.find(".edit-button").show(),a.find("input, select").prop("disabled",!0)):"edit"===b?(a.find(".save-button, .cancel-button").show(),a.find(".edit-button").hide(),a.find("input, select").prop("disabled",!1)):void 0}$(document).ready(function(){$(".sec-dlt").click(function(){$(this).closest(".attribute-dlt").remove()})}),$(document).on("click",".opt-select",function(){$(this).closest(".attr").find("select.select2").find("option").prop("selected","selected"),$(".attr").find("select.select2").trigger("change")}),$(document).on("click",".options-deselect",function(){$(this).closest(".attr").find("select.select2").find("option").prop("selected",!1),$(".attr").find("select.select2").trigger("change")}),$(document).ready(function(){$(document).on("click",".collapse-expand",function(){$(this).closest(".tab-pane").find(".toggle-btn.inactive-sec").trigger("click")}),$(document).on("click",".collapse-collapse",function(){$(this).closest(".tab-pane").find(".toggle-btn.active").trigger("click")})}),$(document).on("click",".toggle-btn.inactive-sec,.toggle-btn.active",function(){$(this).hasClass("inactive-sec")?$(this).removeClass("inactive-sec collapsed").addClass("active").attr("aria-expanded",!0):$(this).removeClass("active").addClass("inactive-sec collapsed").attr("aria-expanded",!1)}),$(document).on("click",".collapse-header",function(a){"div"==a.target.localName&&$(this).closest(".ui-sortable-handle").find(".toggle-btn").trigger("click")}),$(".addAttrs").click(function(){$(".loder-content").block({message:`<div class="spinner-border text-warning" role="status"><span class="sr-only">Loading...</span></div>`,css:{backgroundColor:"transparent",border:"none"},timeout:2e3})}),$(document).ready(function(){$(".c-click").click(function(){$(".s-hide").toggle()})}),$(function(){$(".collapse").on("hidden.bs.collapse",function(){this.id&&(localStorage[this.id]="true")}).on("shown.bs.collapse",function(){this.id&&localStorage.removeItem(this.id)}).each(function(){this.id&&"true"===localStorage[this.id]&&$(this).collapse("hide")})});function showDiv(a,b){var c="External/Affiliate Product"==b.value?"block":"none";"Variable Product"==b.value&&$(".hidden_di").css("display","block"),("Grouped Product"==b.value||"Variable Product"==b.value||"External/Affiliate Product"==b.value)&&($(".div_element, .div_h").css("display","none"),$(".inventory").trigger("click")),("Simple Product"==b.value||"External/Affiliate Product"==b.value)&&($(".div_element").css("display","block"),$(".simple").trigger("click")),"Simple Product"==b.value&&$(".div_h").css("display","block"),$("."+a).css("display",c)}$(function(){$("#sortable .common_c ").each(function(a,b){$(b).attr("id","item_"+a)}),$("#sortable").sortable({placeholder:"ui-state-highlight",update:function(){localStorage.setItem("sorted",$("#sortable").sortable("toArray"))}}),restoreSorted()});function restoreSorted(){var a=localStorage.sorted;if(null!=a)for(var b,c=$("#sortable"),d=a.split(","),e=0;e<d.length;e++)b=c.find("#"+d[e]),$("#sortable").append(b)}$("#sortable").sortable({revert:!0,cancel:"#sortable .txt-enable"}),$(document).ready(function(){$(".summernote").summernote({tabsize:2,height:280,blockquoteBreakingLevel:2,styleTags:["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"],toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link"]],["view",["fullscreen","codeview","help"]]],codeviewFilter:!0,codeviewFilterRegex:summernote_regex,callbacks:{onInit:function(){$("<div class=\"note-file btn-group note-btn-group\"><button id=\"makeSnote\" type=\"button\" class=\"note-btn editor-img-btn btn btn-default btn-sm has-media-manager\" data-val=\"single\" tabindex=\"-1\" title=\"\" aria-label=\"Picture\" data-original-title=\"Picture\" aria-describedby=\"tooltip682862\"><i class=\"note-icon-picture\"></i></button></div>").appendTo($(".note-toolbar")),$("#makeSnote").tooltip({container:"body",placement:"bottom"})}}})}),$(function(){$(".date-ranges-picker").daterangepicker(clearableDateRangePickerConf())});const refreshDatePickers=()=>{$(".date-ranges-picker").on("cancel.daterangepicker",function(){$(this).val(""),datePickerUpdatedEvent(this)}),$(".date-ranges-picker, .start_end, .end_date").on("apply.daterangepicker",function(a,b){$(this).val(b.startDate.format(dateFormatForMoment))})};refreshDatePickers(),$(".start_date,.end_date").on("apply.daterangepicker",function(){datePickerUpdatedEvent(this)});const datePickerUpdatedEvent=a=>{let b=$(a).closest(".date-container").find(".end_date.date-ranges-picker").val(),c=$(a).closest(".date-container").find(".start_date.date-ranges-picker").val();0<$(a).closest(".date-container").find(".err-msg").length&&$(a).closest(".date-container").find(".err-msg").remove(),(0===c.length&&10===b.length||10===c.length&&c.length===b.length&&new Date(c)>=new Date(b))&&(0===c.length?addInputErrorMessage($(a).parent(),jsLang("Please select an starting date.")):addInputErrorMessage($(a).parent(),jsLang("End date must be greater than end date."))),updatePublishedStatus(a)};$(document).on("file-attached",".editor-img-btn",function(a,b){b.data.forEach(a=>{$(".summernote").summernote("pasteHTML"," <p><img src=\""+a.url+"\" style=\"width: 100%;\"/><br></p>")})});const updatePublishedStatus=a=>{if(!$(a).hasClass("schedule_start"))return;let b=$(a).closest(".date-container").find(".start_date.date-ranges-picker").val();if(0===b.length||10!==b.length)return;let c=new Date(b),d=new Date;c>d?$(".schedule_status").html(moment(c).format(dateFormat.toUpperCase())):$(".schedule_status").html(jsLang("Immediately"))};
