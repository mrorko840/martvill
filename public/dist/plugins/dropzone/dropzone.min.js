"use strict";var _createClass=function(){function l(l,e){for(var t,a=0;a<e.length;a++)t=e[a],t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}return function(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}}();function _possibleConstructorReturn(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:i}function _inherits(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var Emitter=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"on",value:function(i,e){return this._callbacks=this._callbacks||{},this._callbacks[i]||(this._callbacks[i]=[]),this._callbacks[i].push(e),this}},{key:"emit",value:function(l){this._callbacks=this._callbacks||{};var e=this._callbacks[l];if(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var s=0,d=d=e;;){if(s>=d.length)break;d[s++].apply(this,i)}}return this}},{key:"off",value:function(l,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var t=this._callbacks[l];if(!t)return this;if(1===arguments.length)return delete this._callbacks[l],this;for(var i=0;i<t.length;i++)if(t[i]===e){t.splice(i,1);break}return this}}]),t}(),Dropzone=function(){function p(t,e){_classCallCheck(this,p);var i,l,d=_possibleConstructorReturn(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));if(d.element=t,d.version=p.version,d.defaultOptions.previewTemplate=d.defaultOptions.previewTemplate.replace(/\n*/g,""),d.clickableElements=[],d.listeners=[],d.files=[],"string"==typeof d.element&&(d.element=document.querySelector(d.element)),!d.element||null==d.element.nodeType)throw new Error("Invalid dropzone element.");if(d.element.dropzone)throw new Error("Dropzone already attached.");p.instances.push(d),d.element.dropzone=d;var r,u=null==(i=p.optionsForElement(d.element))?{}:i;if(d.options=p.extend({},d.defaultOptions,u,null==e?{}:e),d.options.forceFallback||!p.isBrowserSupported())return r=d.options.fallback.call(d),_possibleConstructorReturn(d,r);if(null==d.options.url&&(d.options.url=d.element.getAttribute("action")),!d.options.url)throw new Error("No URL provided.");if(d.options.acceptedFiles&&d.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(d.options.uploadMultiple&&d.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return d.options.acceptedMimeTypes&&(d.options.acceptedFiles=d.options.acceptedMimeTypes,delete d.options.acceptedMimeTypes),null!=d.options.renameFilename&&(d.options.renameFile=function(t){return d.options.renameFilename.call(d,t.name,t)}),d.options.method=d.options.method.toUpperCase(),(l=d.getExistingFallback())&&l.parentNode&&l.parentNode.removeChild(l),!1!==d.options.previewsContainer&&(d.options.previewsContainer?d.previewsContainer=p.getElement(d.options.previewsContainer,"previewsContainer"):d.previewsContainer=d.element),d.options.clickable&&(!0===d.options.clickable?d.clickableElements=[d.element]:d.clickableElements=p.getElements(d.options.clickable,"clickable")),d.init(),d}return _inherits(p,Emitter),_createClass(p,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:maxFileSize,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:acceptedFiles,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(n,e,t){if(t)return{dzuuid:t.file.upload.uuid,dzchunkindex:t.index,dztotalfilesize:t.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:t.file.upload.totalChunkCount,dzchunkbyteoffset:t.index*this.options.chunkSize}},accept:function(i,e){return e()},chunksUploaded:function(i,e){e()},fallback:function(){var t;this.element.className+=" dz-browser-not-supported";for(var l=0,a=a=this.element.getElementsByTagName("div");;){if(l>=a.length)break;var s=a[l++];if(/(^| )dz-message($| )/.test(s.className)){t=s,s.className="dz-message";break}}t||(t=p.createElement("<div class=\"dz-message\"><span></span></div>"),this.element.appendChild(t));var d=t.getElementsByTagName("span")[0];return d&&(null==d.textContent?null!=d.innerText&&(d.innerText=this.options.dictFallbackMessage):d.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(l,e,s,d){var n={srcX:0,srcY:0,srcWidth:l.width,srcHeight:l.height},r=l.width/l.height;null==e&&null==s?(e=n.srcWidth,s=n.srcHeight):null==e?e=s*r:null==s&&(s=e/r);var o=(e=Math.min(e,n.srcWidth))/(s=Math.min(s,n.srcHeight));if(n.srcWidth>e||n.srcHeight>s)if("crop"===d)r>o?(n.srcHeight=l.height,n.srcWidth=n.srcHeight*o):(n.srcWidth=l.width,n.srcHeight=n.srcWidth/o);else{if("contain"!==d)throw new Error("Unknown resizeMethod '"+d+"'");r>o?s=e/r:e=s*r}return n.srcX=(l.width-n.srcWidth)/2,n.srcY=(l.height-n.srcHeight)/2,n.trgWidth=e,n.trgHeight=s,n},transformFile:function(i,e){return(this.options.resizeWidth||this.options.resizeHeight)&&i.type.match(/image.*/)?this.resizeImage(i,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(i)},previewTemplate:"<div class=\"dz-preview dz-file-preview\">\n  <div class=\"dz-image\"><img data-dz-thumbnail /></div>\n  <div class=\"dz-details\">\n    <div class=\"dz-size\"><span data-dz-size></span></div>\n    <div class=\"dz-filename\"><span data-dz-name></span></div>\n  </div>\n  <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\n  <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n  <div class=\"dz-success-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Check</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#FFFFFF\" sketch:type=\"MSShapeGroup\"></path>\n      </g>\n    </svg>\n  </div>\n  <div class=\"dz-error-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Error</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#FFFFFF\" fill-opacity=\"0.816519475\">\n          <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>",drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=p.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);for(var i=0,c=c=t.previewElement.querySelectorAll("[data-dz-name]");;){if(i>=c.length)break;var m=c[i++];m.textContent=t.name}for(var h=0,g=g=t.previewElement.querySelectorAll("[data-dz-size]");!(h>=g.length);)(m=g[h++]).innerHTML=this.filesize(t.size);this.options.addRemoveLinks&&(t._removeLink=p.createElement("<a class=\"dz-remove\" href=\"javascript:undefined;\" data-dz-remove>"+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink));for(var f=function(i){return i.preventDefault(),i.stopPropagation(),t.status===p.UPLOADING?p.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?p.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)},l=0,v=v=t.previewElement.querySelectorAll("[data-dz-remove]");;){if(l>=v.length)break;v[l++].addEventListener("click",f)}}},removedfile:function(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(l,e){if(l.previewElement){l.previewElement.classList.remove("dz-file-preview");for(var t=0,a=a=l.previewElement.querySelectorAll("[data-dz-thumbnail]");;){if(t>=a.length)break;var s=a[t++];s.alt=l.name,s.src=e}return setTimeout(function(){return l.previewElement.classList.add("dz-image-preview")},1)}},error:function(l,e){if(l.previewElement){l.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error);for(var a=0,s=s=l.previewElement.querySelectorAll("[data-dz-errormessage]");;){if(a>=s.length)break;s[a++].textContent=e}}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(i,e){if(i.previewElement)for(var t=0,l=l=i.previewElement.querySelectorAll("[data-dz-uploadprogress]");;){if(t>=l.length)break;var a=l[t++];"PROGRESS"===a.nodeName?a.value=e:a.style.width=e+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(d){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var p=0,u=u=t;;){if(p>=u.length)break;var c=u[p++];for(var a in c){var s=c[a];d[a]=s}}return d}}]),_createClass(p,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(t){return t.accepted}).map(function(t){return t})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(t){return!t.accepted}).map(function(t){return t})}},{key:"getFilesWithStatus",value:function(i){return this.files.filter(function(e){return e.status===i}).map(function(t){return t})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(p.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(p.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(p.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(t){return t.status===p.UPLOADING||t.status===p.QUEUED}).map(function(t){return t})}},{key:"init",value:function(){var l=this;("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(p.createElement("<div class=\"dz-default dz-message\"><span>"+this.options.dictDefaultMessage+"</span></div>")),!this.clickableElements.length)||function e(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null===l.options.maxFiles||1<l.options.maxFiles)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!==l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!==l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var t=l.hiddenFileInput.files;if(t.length)for(var i,a=0,s=s=t;!(a>=s.length);)i=s[a++],l.addFile(i);return l.emit("addedfiles",t),e()})}(),this.URL=null===window.URL?window.webkitURL:window.URL;for(var e=0,t=t=this.events;;){if(e>=t.length)break;var a=t[e++];this.on(a,this.options[a])}this.on("uploadprogress",function(){return l.updateTotalUploadProgress()}),this.on("removedfile",function(){return l.updateTotalUploadProgress()}),this.on("canceled",function(e){return l.emit("complete",e)}),this.on("complete",function(){if(0===l.getAddedFiles().length&&0===l.getUploadingFiles().length&&0===l.getQueuedFiles().length)return setTimeout(function(){return l.emit("queuecomplete")},0)});var s=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return l.emit("dragstart",e)},dragenter:function(e){return s(e),l.emit("dragenter",e)},dragover:function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",s(e),l.emit("dragover",e)},dragleave:function(e){return l.emit("dragleave",e)},drop:function(e){return s(e),l.drop(e)},dragend:function(e){return l.emit("dragend",e)}}}],this.clickableElements.forEach(function(e){return l.listeners.push({element:e,events:{click:function(t){return(e!==l.element||t.target===l.element||p.elementInside(t.target,l.element.querySelector(".dz-message")))&&l.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null==this.hiddenFileInput?void 0:this.hiddenFileInput.parentNode)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,p.instances.splice(p.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var l,a=0,s=0;if(this.getActiveFiles().length){for(var d=0,p=p=this.getActiveFiles();;){if(d>=p.length)break;var u=p[d++];a+=u.upload.bytesSent,s+=u.upload.total}l=100*a/s}else l=100;return this.emit("totaluploadprogress",l,s,a)}},{key:"_getParamName",value:function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}},{key:"_renameFile",value:function(t){return"function"==typeof this.options.renameFile?this.options.renameFile(t):t.name}},{key:"getFallbackForm",value:function(){var t,l;if(t=this.getExistingFallback())return t;var a="<div class=\"dz-fallback\">";this.options.dictFallbackText&&(a+="<p>"+this.options.dictFallbackText+"</p>"),a+="<input type=\"file\" name=\""+this._getParamName(0)+"\" "+(this.options.uploadMultiple?"multiple=\"multiple\"":void 0)+" /><input type=\"submit\" value=\"Upload!\"></div>";var s=p.createElement(a);return"FORM"===this.element.tagName?(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)):(l=p.createElement("<form action=\""+this.options.url+"\" enctype=\"multipart/form-data\" method=\""+this.options.method+"\"></form>")).appendChild(s),null==l?s:l}},{key:"getExistingFallback",value:function(){for(var l=function(l){for(var e=0,a=a=l;;){if(e>=a.length)break;var s=a[e++];if(/(^| )fallback($| )/.test(s.className))return s}},e=["div","form"],t=0;t<e.length;t++){var a,s=e[t];if(a=l(this.element.getElementsByTagName(s)))return a}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(l){return function(){var e=[];for(var t in l.events){var i=l.events[t];e.push(l.element.addEventListener(t,i,!1))}return e}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(l){return function(){var e=[];for(var t in l.events){var i=l.events[t];e.push(l.element.removeEventListener(t,i,!1))}return e}()})}},{key:"disable",value:function(){var i=this;return this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return i.cancelUpload(e)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(l){var e=0,a="b";if(0<l){for(var s,d=["tb","gb","mb","kb","b"],n=0;n<d.length;n++)if(s=d[n],l>=Math.pow(this.options.filesizeBase,4-n)/10){e=l/Math.pow(this.options.filesizeBase,4-n),a=s;break}e=Math.round(10*e)/10}return"<strong>"+e+"</strong> "+this.options.dictFileSizeUnits[a]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(l){if(l.dataTransfer){this.emit("drop",l);for(var e=[],t=0;t<l.dataTransfer.files.length;t++)e[t]=l.dataTransfer.files[t];if(this.emit("addedfiles",e),e.length){var a=l.dataTransfer.items;a&&a.length&&null!=a[0].webkitGetAsEntry?this._addFilesFromItems(a):this.handleFiles(e)}}}},{key:"paste",value:function(i){if(null!=__guard__(null==i?void 0:i.clipboardData,function(t){return t.items})){this.emit("paste",i);var e=i.clipboardData.items;return e.length?this._addFilesFromItems(e):void 0}}},{key:"handleFiles",value:function(l){for(var e=0,a=a=l;;){if(e>=a.length)break;var s=a[e++];this.addFile(s)}}},{key:"_addFilesFromItems",value:function(l){var e=this;return function(){for(var t=[],i=0,s=s=l;;){if(i>=s.length)break;var d,p=s[i++];null!=p.webkitGetAsEntry&&(d=p.webkitGetAsEntry())?d.isFile?t.push(e.addFile(p.getAsFile())):d.isDirectory?t.push(e._addFilesFromDirectory(d,d.name)):t.push(void 0):null!=p.getAsFile&&(null==p.kind||"file"===p.kind)?t.push(e.addFile(p.getAsFile())):t.push(void 0)}return t}()}},{key:"_addFilesFromDirectory",value:function(l,s){var t=this,i=l.createReader(),n=function(i){return __guardMethod__(console,"log",function(e){return e.log(i)})};return function l(){return i.readEntries(function(e){if(0<e.length){for(var i,n=0,d=d=e;!(n>=d.length);)i=d[n++],i.isFile?i.file(function(i){if(!t.options.ignoreHiddenFiles||"."!==i.name.substring(0,1))return i.fullPath=s+"/"+i.name,t.addFile(i)}):i.isDirectory&&t._addFilesFromDirectory(i,s+"/"+i.name);l()}return null},n)}()}},{key:"accept",value:function(t,e){return this.options.maxFilesize&&t.size>1024*(1024*this.options.maxFilesize)?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):p.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)}},{key:"addFile",value:function(n){var e=this;return n.upload={uuid:p.uuidv4(),progress:0,total:n.size,bytesSent:0,filename:this._renameFile(n),chunked:this.options.chunking&&(this.options.forceChunking||n.size>this.options.chunkSize),totalChunkCount:Math.ceil(n.size/this.options.chunkSize)},this.files.push(n),n.status=p.ADDED,this.emit("addedfile",n),this._enqueueThumbnail(n),this.accept(n,function(i){return i?(n.accepted=!1,e._errorProcessing([n],i)):(n.accepted=!0,e.options.autoQueue&&e.enqueueFile(n)),e._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(l){for(var e=0,a=a=l;;){if(e>=a.length)break;var s=a[e++];this.enqueueFile(s)}return null}},{key:"enqueueFile",value:function(t){var e=this;if(t.status!==p.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");return(t.status=p.QUEUED,this.options.autoProcessQueue)?setTimeout(function(){return e.processQueue()},0):void 0}},{key:"_enqueueThumbnail",value:function(i){var e=this;if(this.options.createImageThumbnails&&i.type.match(/image.*/)&&i.size<=1024*(1024*this.options.maxThumbnailFilesize))return this._thumbnailQueue.push(i),setTimeout(function(){return e._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var n=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(t){return n.emit("thumbnail",e,t),n._processingThumbnail=!1,n._processThumbnailQueue()})}}},{key:"removeFile",value:function(t){if(t.status===p.UPLOADING&&this.cancelUpload(t),this.files=without(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);for(var l=0,a=a=this.files.slice();;){if(l>=a.length)break;var s=a[l++];(s.status!==p.UPLOADING||t)&&this.removeFile(s)}return null}},{key:"resizeImage",value:function(t,e,i,n,l){var o=this;return this.createThumbnail(t,e,i,n,!1,function(e,i){if(null==i)return l(t);var n=o.options.resizeMimeType;null==n&&(n=t.type);var a=i.toDataURL(n,o.options.resizeQuality);return"image/jpeg"!==n&&"image/jpg"!==n||(a=ExifRestore.restore(t.dataURL,a)),l(p.dataURItoBlob(a))})}},{key:"createThumbnail",value:function(l,e,t,i,n,d){var o=this,a=new FileReader;return a.onload=function(){return(l.dataURL=a.result,"image/svg+xml"!==l.type)?o.createThumbnailFromUrl(l,e,t,i,n,d):void(null!=d&&d(a.result))},a.readAsDataURL(l)}},{key:"createThumbnailFromUrl",value:function(p,e,t,i,n,m,o){var h=this,s=document.createElement("img");return o&&(s.crossOrigin=o),s.onload=function(){var l=function(t){return t(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&n&&(l=function(t){return EXIF.getData(s,function(){return t(EXIF.getTag(this,"Orientation"))})}),l(function(n){p.width=s.width,p.height=s.height;var l=h.options.resize.call(h,p,e,t,i),a=document.createElement("canvas"),o=a.getContext("2d");switch(a.width=l.trgWidth,a.height=l.trgHeight,4<n&&(a.width=l.trgHeight,a.height=l.trgWidth),n){case 2:o.translate(a.width,0),o.scale(-1,1);break;case 3:o.translate(a.width,a.height),o.rotate(Math.PI);break;case 4:o.translate(0,a.height),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-a.height);break;case 7:o.rotate(.5*Math.PI),o.translate(a.width,-a.height),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-a.width,0);}drawImageIOSFix(o,s,null==l.srcX?0:l.srcX,null==l.srcY?0:l.srcY,l.srcWidth,l.srcHeight,null==l.trgX?0:l.trgX,null==l.trgY?0:l.trgY,l.trgWidth,l.trgHeight);var d=a.toDataURL("image/png");if(null!=m)return m(d,a)})},null!=m&&(s.onerror=m),s.src=p.dataURL}},{key:"processQueue",value:function(){var l=this.options.parallelUploads,e=this.getUploadingFiles().length,t=e;if(!(e>=l)){var a=this.getQueuedFiles();if(0<a.length){if(this.options.uploadMultiple)return this.processFiles(a.slice(0,l-e));for(;t<l;){if(!a.length)return;this.processFile(a.shift()),t++}}}}},{key:"processFile",value:function(t){return this.processFiles([t])}},{key:"processFiles",value:function(t){for(var e=0,l=l=t;;){if(e>=l.length)break;var a=l[e++];a.processing=!0,a.status=p.UPLOADING,this.emit("processing",a)}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(i){return this.files.filter(function(e){return e.xhr===i}).map(function(t){return t})}},{key:"cancelUpload",value:function(t){if(t.status===p.UPLOADING){for(var e=this._getFilesWithXhr(t.xhr),i=0,l=l=e;;){if(i>=l.length)break;l[i++].status=p.CANCELED}void 0!==t.xhr&&t.xhr.abort();for(var d=0,u=u=e;;){if(d>=u.length)break;var c=u[d++];this.emit("canceled",c)}this.options.uploadMultiple&&this.emit("canceledmultiple",e)}else t.status!==p.ADDED&&t.status!==p.QUEUED||(t.status=p.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0}},{key:"resolveOption",value:function(l){if("function"==typeof l){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return l.apply(this,t)}return l}},{key:"uploadFile",value:function(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function(t){var e=this;this._transformFiles(t,function(i){if(t[0].upload.chunked){var d=t[0],r=i[0];d.upload.chunks=[];var n=function(){for(var i=0;void 0!==d.upload.chunks[i];)i++;if(!(i>=d.upload.totalChunkCount)){var o=i*e.options.chunkSize,a=Math.min(o+e.options.chunkSize,d.size),s={name:e._getParamName(0),data:r.webkitSlice?r.webkitSlice(o,a):r.slice(o,a),filename:d.upload.filename,chunkIndex:i};d.upload.chunks[i]={file:d,index:i,dataBlock:s,status:p.UPLOADING,progress:0,retries:0},e._uploadData(t,[s])}};if(d.upload.finishedChunkUpload=function(i){var l=!0;i.status=p.SUCCESS,i.dataBlock=null;for(var a=0;a<d.upload.totalChunkCount;a++){if(void 0===d.upload.chunks[a])return n();d.upload.chunks[a].status!==p.SUCCESS&&(l=!1)}l&&e.options.chunksUploaded(d,function(){e._finished(t,"",null)})},e.options.parallelChunkUploads)for(var a=0;a<d.upload.totalChunkCount;a++)n();else n()}else{for(var o=[],l=0;l<t.length;l++)o[l]={name:e._getParamName(l),data:i[l],filename:t[l].upload.filename};e._uploadData(t,o)}})}},{key:"_getChunk",value:function(n,e){for(var t=0;t<n.upload.totalChunkCount;t++)if(void 0!==n.upload.chunks[t]&&n.upload.chunks[t].xhr===e)return n.upload.chunks[t]}},{key:"_uploadData",value:function(F,e){for(var i=this,n=new XMLHttpRequest,t=0,r=r=F;;){if(t>=r.length)break;r[t++].xhr=n}F[0].upload.chunked&&(F[0].upload.chunks[e[0].chunkIndex].xhr=n);var E=this.resolveOption(this.options.method,F),s=this.resolveOption(this.options.url,F);n.open(E,s,!0),n.timeout=this.resolveOption(this.options.timeout,F),n.withCredentials=!!this.options.withCredentials,n.onload=function(e){i._finishedUploading(F,n,e)},n.onerror=function(){i._handleUploadError(F,n)},(null==n.upload?n:n.upload).onprogress=function(e){return i._updateFilesUploadProgress(F,n,e)};var l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var u in this.options.headers&&p.extend(l,this.options.headers),l){var d=l[u];d&&n.setRequestHeader(u,d)}var c=new FormData;if(this.options.params){var C=this.options.params;for(var x in"function"==typeof C&&(C=C.call(this,F,n,F[0].upload.chunked?this._getChunk(F[0],n):null)),C){var f=C[x];c.append(x,f)}}for(var m=0,z=z=F;;){if(m>=z.length)break;var w=z[m++];this.emit("sending",w,n,c)}this.options.uploadMultiple&&this.emit("sendingmultiple",F,n,c),this._addFormElementData(c);for(var k,S=0;S<e.length;S++)k=e[S],c.append(k.name,k.data,k.filename);this.submitRequest(n,c,F)}},{key:"_transformFiles",value:function(l,e){for(var t=this,s=[],n=0,i=function(a){t.options.transformFile.call(t,l[a],function(t){s[a]=t,++n===l.length&&e(s)})},o=0;o<l.length;o++)i(o)}},{key:"_addFormElementData",value:function(d){if("FORM"===this.element.tagName)for(var e=0,p=p=this.element.querySelectorAll("input, textarea, select, button");;){if(e>=p.length)break;var u=p[e++],n=u.getAttribute("name"),r=u.getAttribute("type");if(r&&(r=r.toLowerCase()),null!=n)if("SELECT"===u.tagName&&u.hasAttribute("multiple"))for(var c=0,m=m=u.options;;){if(c>=m.length)break;var h=m[c++];h.selected&&d.append(n,h.value)}else(!r||"checkbox"!==r&&"radio"!==r||u.checked)&&d.append(n,u.value)}}},{key:"_updateFilesUploadProgress",value:function(F,e,t){var i;if(void 0!==t){if(i=100*t.loaded/t.total,F[0].upload.chunked){var b=F[0],r=this._getChunk(b,e);r.progress=i,r.total=t.total,r.bytesSent=t.loaded,b.upload.progress=0,b.upload.total=0,b.upload.bytesSent=0;for(var o=0;o<b.upload.totalChunkCount;o++)void 0!==b.upload.chunks[o]&&void 0!==b.upload.chunks[o].progress&&(b.upload.progress+=b.upload.chunks[o].progress,b.upload.total+=b.upload.chunks[o].total,b.upload.bytesSent+=b.upload.chunks[o].bytesSent);b.upload.progress/=b.upload.totalChunkCount}else for(var E=0,C=C=F;;){if(E>=C.length)break;var x=C[E++];x.upload.progress=i,x.upload.total=t.total,x.upload.bytesSent=t.loaded}for(var u=0,z=z=F;;){if(u>=z.length)break;var w=z[u++];this.emit("uploadprogress",w,w.upload.progress,w.upload.bytesSent)}}else{var p=!0;i=100;for(var S=0,_=_=F;;){if(S>=_.length)break;var L=_[S++];100===L.upload.progress&&L.upload.bytesSent===L.upload.total||(p=!1),L.upload.progress=i,L.upload.bytesSent=L.upload.total}if(p)return;for(var v=0,T=T=F;;){if(v>=T.length)break;var A=T[v++];this.emit("uploadprogress",A,i,A.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(t,e,i){var l;if(t[0].status!==p.CANCELED&&4===e.readyState){if("arraybuffer"!==e.responseType&&"blob"!==e.responseType&&(l=e.responseText,e.getResponseHeader("content-type")&&~e.getResponseHeader("content-type").indexOf("application/json")))try{l=JSON.parse(l)}catch(t){i=t,l="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=e.status&&300>e.status?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],e)):this._finished(t,l,i):this._handleUploadError(t,e,l)}}},{key:"_handleUploadError",value:function(t,e,i){if(t[0].status!==p.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var n=this._getChunk(t[0],e);if(n.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[n.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var l=0,s=s=t;;){if(l>=s.length)break;s[l++],this._errorProcessing(t,i||this.options.dictResponseError.replace("{{statusCode}}",e.status),e)}}}},{key:"submitRequest",value:function(i,e){i.send(e)}},{key:"_finished",value:function(t,e,i){for(var n=0,l=l=t;;){if(n>=l.length)break;var s=l[n++];s.status=p.SUCCESS,this.emit("success",s,e,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,e,i){for(var n=0,l=l=t;;){if(n>=l.length)break;var s=l[n++];s.status=p.ERROR,this.emit("error",s,e,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var e=0|16*Math.random();return("x"===i?e:8|3&e).toString(16)})}}]),p}();Dropzone.initClass(),Dropzone.version="5.4.0",Dropzone.options={},Dropzone.optionsForElement=function(t){return t.getAttribute("id")?Dropzone.options[camelize(t.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null==t?void 0:t.dropzone))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var l;if(document.querySelectorAll)l=document.querySelectorAll(".dropzone");else{l=[];var i=function(e){return function(){for(var t=[],i=0,a=a=e;;){if(i>=a.length)break;var s=a[i++];/(^| )dropzone($| )/.test(s.className)?t.push(l.push(s)):t.push(void 0)}return t}()};i(document.getElementsByTagName("div")),i(document.getElementsByTagName("form"))}return function(){for(var e=[],t=0,a=a=l;;){if(t>=a.length)break;var s=a[t++];!1===Dropzone.optionsForElement(s)?e.push(void 0):e.push(new Dropzone(s))}return e}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var n=!0;if(!(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector))n=!1;else if("classList"in document.createElement("a"))for(var l=0,a=a=Dropzone.blacklistedBrowsers;;){if(l>=a.length)break;a[l++].test(navigator.userAgent)&&(n=!1)}else n=!1;return n},Dropzone.dataURItoBlob=function(l){for(var e=atob(l.split(",")[1]),t=l.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),n=new Uint8Array(i),d=0,r=e.length,a=0<=r;a?d<=r:d>=r;a?d++:d--)n[d]=e.charCodeAt(d);return new Blob([i],{type:t})};var without=function(i,n){return i.filter(function(t){return t!==n}).map(function(t){return t})},camelize=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})};Dropzone.createElement=function(i){var e=document.createElement("div");return e.innerHTML=i,e.childNodes[0]},Dropzone.elementInside=function(i,n){if(i===n)return!0;for(;i=i.parentNode;)if(i===n)return!0;return!1},Dropzone.getElement=function(n,e){var t;if("string"==typeof n?t=document.querySelector(n):null!=n.nodeType&&(t=n),null==t)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return t},Dropzone.getElements=function(l,e){var t,d;if(l instanceof Array){d=[];try{for(var p=0,u=u=l;!(p>=u.length);)t=u[p++],d.push(this.getElement(t,e))}catch(t){d=null}}else if("string"==typeof l){d=[];for(var c=0,m=m=document.querySelectorAll(l);!(c>=m.length);)t=m[c++],d.push(t)}else null!=l.nodeType&&(d=[l]);if(null==d||!d.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return d},Dropzone.confirm=function(n,e,t){return window.confirm(n)?e():null==t?void 0:t()},Dropzone.isValidFile=function(l,e){if(!e)return!0;e=e.split(",");for(var s=l.type,i=s.replace(/\/.*$/,""),n=0,d=d=e;;){if(n>=d.length)break;var p=d[n++];if("."===(p=p.trim()).charAt(0)){if(-1!==l.name.toLowerCase().indexOf(p.toLowerCase(),l.name.length-p.length))return!0;}else if(/\/\*$/.test(p)){if(i===p.replace(/\/.*$/,""))return!0;}else if(s===p)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new Dropzone(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(d){d.naturalWidth;var e=d.naturalHeight,t=document.createElement("canvas");t.width=1,t.height=e;var i=t.getContext("2d");i.drawImage(d,0,0);for(var n=i.getImageData(1,0,1,e).data,r=0,p=e,u=e;u>r;)0===n[4*(u-1)+3]?p=u:r=u,u=p+r>>1;var c=u/e;return 0==c?1:c},drawImageIOSFix=function(p,e,t,i,n,r,o,a,s,l){var u=detectVerticalSquash(e);return p.drawImage(e,t,i,n,r,o,a,s,l/u)},ExifRestore=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(d){for(var e="",p=void 0,c=void 0,m="",h=void 0,g=void 0,f=void 0,v="",k=0;h=(p=d[k++])>>2,g=(3&p)<<4|(c=d[k++])>>4,f=(15&c)<<2|(m=d[k++])>>6,v=63&m,isNaN(c)?f=v=64:isNaN(m)&&(v=64),e=e+this.KEY_STR.charAt(h)+this.KEY_STR.charAt(g)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(v),p=c=m="",h=g=f=v="",k<d.length;);return e}},{key:"restore",value:function(l,e){if(!l.match("data:image/jpeg;base64,"))return e;var t=this.decode64(l.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(t),n=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(n)}},{key:"exifManipulation",value:function(l,e){var t=this.getExifArray(e),i=this.insertExif(l,t);return new Uint8Array(i)}},{key:"getExifArray",value:function(n){for(var e=void 0,l=0;l<n.length;){if(255===(e=n[l])[0]&225===e[1])return e;l++}return[]}},{key:"insertExif",value:function(l,e){var t=l.replace("data:image/jpeg;base64,",""),i=this.decode64(t),n=i.indexOf(255,3),d=i.slice(0,n),o=i.slice(n),a=d;return a=(a=a.concat(e)).concat(o)}},{key:"slice2Segments",value:function(l){for(var e=0,a=[];;){if(255===l[e]&218===l[e+1])break;if(255===l[e]&216===l[e+1])e+=2;else{var i=e+(256*l[e+2]+l[e+3])+2,n=l.slice(e,i);a.push(n),e=i}if(e>l.length)break}return a}},{key:"decode64",value:function(d){var p,u,c,m,h="",g="",f=0,v=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(d)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");p=this.KEY_STR.indexOf(d.charAt(f++))<<2|(c=this.KEY_STR.indexOf(d.charAt(f++)))>>4,u=(15&c)<<4|(m=this.KEY_STR.indexOf(d.charAt(f++)))>>2,h=(3&m)<<6|(g=this.KEY_STR.indexOf(d.charAt(f++))),v.push(p),64!==m&&v.push(u),64!==g&&v.push(h),p=u=h="",c=m=g="",f<d.length;);return v}}]),t}();ExifRestore.initClass();var contentLoaded=function(d,e){var t=!1,p=!0,c=d.document,r=c.documentElement,o=c.addEventListener?"addEventListener":"attachEvent",a=c.addEventListener?"removeEventListener":"detachEvent",s=c.addEventListener?"":"on",l=function i(n){if("readystatechange"!==n.type||"complete"===c.readyState)return("load"===n.type?d:c)[a](s+n.type,i,!1),!t&&(t=!0)?e.call(d,n.type||n):void 0};if("complete"!==c.readyState){if(c.createEventObject&&r.doScroll){try{p=!d.frameElement}catch(t){}p&&function i(){try{r.doScroll("left")}catch(e){return void setTimeout(i,50)}return l("poll")}()}return c[o](s+"DOMContentLoaded",l,!1),c[o](s+"readystatechange",l,!1),d[o](s+"load",l,!1)}};function __guard__(i,e){return null==i?void 0:e(i)}function __guardMethod__(n,e,t){return null!=n&&"function"==typeof n[e]?t(n,e):void 0}Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction);